<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Map Coordinate Converter</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label, input, button { display: block; margin: 10px 0; }
  </style>
</head>
<body>

  <h1>Map Pixel to In-Game Coordinates</h1>

  <label for="x">Pixel X:</label>
  <input type="number" id="x" placeholder="e.g. 1100">

  <label for="y">Pixel Y:</label>
  <input type="number" id="y" placeholder="e.g. 900">

  <label for="factor">Map Size Factor:</label>
  <input type="number" id="factor" placeholder="e.g. 100" value="100">

  <button onclick="convert()">Convert</button>

  <h2>Result:</h2>
  <p id="result">â€”</p>

  <script>
    function truncateToFirstDecimal(value) {
      return Math.floor(value * 10) / 10;
    }

    function getGameMapCoordinates(pixelCoords, mapSizeFactor) {
      const x = (pixelCoords[0] / mapSizeFactor) * 2 + 1;
      const y = (pixelCoords[1] / mapSizeFactor) * 2 + 1;
      return [x, y];
    }

    function convert() {
      const x = parseFloat(document.getElementById("x").value);
      const y = parseFloat(document.getElementById("y").value);
      const factor = parseFloat(document.getElementById("factor").value);

      if (isNaN(x) || isNaN(y) || isNaN(factor) || factor === 0) {
        document.getElementById("result").innerText = "Please enter valid numbers.";
        return;
      }

      const coords = getGameMapCoordinates([x, y], factor);
      const truncated = coords.map(truncateToFirstDecimal);

      document.getElementById("result").innerText =
        `In-game Coordinates: (${truncated[0]}, ${truncated[1]})`;
    }
  </script>

</body>
</html>
